{% extends 'main/basic.html' %}

{% load static %}

{% block css %}
    {% include "main/template_css.html" %}
{% endblock %}
{% block init_scripts %}
    <script type="text/javascript" src="{% static 'main/js/html5shiv.js' %}"></script>
    <script type="text/javascript" src="{% static 'main/js/respond.min.js' %}"></script>
    <script src="/static/main/js/jquery.js"></script>
    <script type="text/javascript" src="{% static 'main/js/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'main/css/jquery-ui.min.css' %}"></script>
{% endblock %}

{% block content %}
    <section id="form">
        <br><br>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                  <h3>Saved Graph Instances</h3>
                  <br><br>
                </div>
                <div class="col-lg-8 col-lg-offset-2">
                  {% if count > 0 %}
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>File Name</th>
                        <th>Timestamp</th>
                        <th></th>
                        <th></th>
                      </tr>
                    </thead>
                  <tbody>
                    {% for i in graphs %}
                    <tr>
                      <td>{{i.fname}}</td>
                      <td>{{i.timestamp}}</td>
                      <td><a href="/classes/{{i.id}}" class="btn btn-link"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a></td>
                      <form name="deleteGraph" method="POST" action="">
                      <input type="hidden" value="{{i.id}}" name="fileid"></input>
                        <td><button class="btn btn-link" type="submit"><i class="fa fa-trash" aria-hidden="true"></i></button></td>
                    </form>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
                {% if graphs.has_other_pages %}
                    <ul class="pagination">
                      {% if graphs.has_previous %}
                        <li><a href="?page={{ graphs.previous_page_number }}">&laquo;</a></li>
                      {% else %}
                        <li class="disabled"><span>&laquo;</span></li>
                      {% endif %}
                      {% for i in graphs.paginator.page_range %}
                        {% if graphs.number == i %}
                          <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                        {% else %}
                          <li><a href="?page={{ i }}">{{ i }}</a></li>
                        {% endif %}
                      {% endfor %}
                      {% if graphs.has_next %}
                        <li><a href="?page={{ users.next_page_number }}">&raquo;</a></li>
                      {% else %}
                        <li class="disabled"><span>&raquo;</span></li>
                      {% endif %}
                    </ul>
                  {% endif %}
                  {% else %}
                  <p>You haven't uploaded any graph instances</p>
                  {% endif %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block scripts %}

    <script src="/static/main/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="/static/main/js/jqBootstrapValidation.js' %}"></script>
    <script src="/static/main/js/contact_me.js"></script>
    <script src="/static/main/js/freelancer.min.js"></script>


{% endblock %}
